import"../chunks/Bg9kRutz.js";import"../chunks/CZwOOZ8X.js";import{p as ge,l as xe,b as ye,c as he,g as e,s,d as r,e as i,m as f,r as o,t as _e,i as v}from"../chunks/C49fxnTX.js";import{i as H,e as d}from"../chunks/Cd7jppo2.js";import{a as h,t as _}from"../chunks/BVyY2eYF.js";import{e as Pe,i as Ne}from"../chunks/6_bSFVyE.js";import{r as u}from"../chunks/C55JGdRg.js";import{b as c}from"../chunks/DY5b5QkI.js";import{p as ke}from"../chunks/CWmzcjye.js";import{i as Re}from"../chunks/Dza9i49Z.js";import{s as Se,a as Be}from"../chunks/CZe-tk6V.js";import{g as Z}from"../chunks/DkGKsnCd.js";import{a as ee,B as Ce}from"../chunks/D4POEFCI.js";import{g as De}from"../chunks/DlQj9-fi.js";import{o as Ie}from"../chunks/rzUrWnQ3.js";import{N as te}from"../chunks/DzgOfrvm.js";var Le=_('<div class="h-4 bg-gray-700 rounded w-3/4"></div>'),Ee=_('<div class="bg-gray-800 p-8 rounded-b-2xl shadow-xl"><div class="animate-pulse space-y-4"></div></div>'),Ue=_('<p class="text-red-500 text-sm mt-1">Invalid Roll or Batch</p>'),$e=_('<p class="text-red-500 text-sm mt-1">Passwords do not match</p>'),Ae=_('<form class="bg-gray-800 p-6 rounded-b-2xl shadow-xl space-y-6"><div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="fullName" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">Name</label> <input id="fullName" type="text" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"></div> <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="username" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">Username</label> <input id="username" type="text" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"></div> <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="email" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">Email</label> <input id="email" type="email" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"></div> <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="roll" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">Roll Number</label> <input id="roll" type="text" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"></div> <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="roll" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">Phone Number</label> <input id="roll" type="text" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"></div> <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="batch" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">Batch</label> <input id="batch" type="text" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"> <!></div> <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="facebookProfile" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">Facebook Profile</label> <input id="facebookProfile" type="url" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"></div> <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="password" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">New Password</label> <input id="password" type="password" placeholder="Enter New Password" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"></div> <div class="flex flex-col sm:flex-row sm:items-center py-3 border-b border-gray-700"><label for="confirmPassword" class="text-gray-400 w-full sm:w-1/3 mb-2 sm:mb-0">Confirm Password</label> <input id="confirmPassword" type="password" placeholder="Confirm Password" class="bg-gray-700 text-white rounded p-2 w-full sm:w-2/3"> <!></div> <div class="flex flex-col justify-center sm:flex-row sm:gap-4 mt-8 sm:mt-6 gap-4"><button type="submit" class="bg-gradient-to-r from-green-400 to-blue-500 text-white font-semibold py-2 px-8 rounded-full shadow-md hover:scale-105 transform transition-all duration-200 ease-in-out w-full sm:w-auto">Save Changes</button> <button type="button" class="bg-red-500 text-white font-semibold py-2 px-8 rounded-full shadow-md hover:scale-105 transform transition-all duration-200 ease-in-out w-full sm:w-auto">Discard Changes</button> <button type="button" class="bg-gray-600 text-white font-semibold py-2 px-8 rounded-full shadow-md hover:scale-105 transform transition-all duration-200 ease-in-out w-full sm:w-auto">Reset Fields</button></div></form>'),Me=_('<div class="min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8"><div class="max-w-3xl mx-auto"><div class="bg-gray-800 rounded-t-2xl p-6 shadow-xl text-center"><h1 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-300 to-blue-300 mb-2">Edit Profile</h1> <p class="text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-300">Update your account details</p></div> <!></div></div>');function et(ae,re){ge(re,!1);const se=Se(),K=()=>Be(Ce,"$BASE_URL",se);let D=f(""),I=0,w={},L=f(!0),t=f({...w}),p=f(""),g=f(""),R=f(!1),x=f(!0),y=f(!0);Ie(async()=>{try{const l=localStorage.getItem("jwtToken");l?(I=De(l),w=(await ee.get(`${(await e(D)).toString()}/users/id/${I}`)).data.data,s(t,{...w}),s(L,!1)):Z("/login")}catch(l){console.error(l),s(L,!1)}});function m(){s(R,JSON.stringify(e(t))!==JSON.stringify(w)||e(p)!==""||e(g)!==""),le()}function Q(){s(x,e(p)===e(g))}function le(){const l=e(t).batch.slice(-2),n=e(t).roll.slice(1,3);s(y,l===n)}async function oe(){try{if(e(x)&&e(y)){const l={...e(t),password:e(p),batch:Number(e(t).batch)};await ee.put(`${(await e(D)).toString()}/users/update/${I}`,l),te("Profile updated successfully","success"),Z("/dashboard/account"),s(R,!1)}}catch(l){console.error(l),te("Error updating profile","error")}}function ie(){s(t,{...w}),s(p,""),s(g,""),s(R,!1),s(x,!0),s(y,!0),ne()}function de(){s(t,{...w}),s(p,""),s(g,""),s(x,!0),s(y,!0)}function ne(){window.history.back()}xe(()=>K(),()=>{s(D,K())}),ye(),Re();var E=Me(),V=i(E),me=r(i(V),2);{var ue=l=>{var n=Ee(),b=i(n);Pe(b,4,()=>Array(6),Ne,(P,S)=>{var N=Le();h(P,N)}),o(b),o(n),h(l,n)},ce=l=>{var n=Ae(),b=i(n),P=r(i(b),2);u(P),o(b);var S=r(b,2),N=r(i(S),2);u(N),o(S);var U=r(S,2),$=r(i(U),2);u($),o(U);var A=r(U,2),M=r(i(A),2);u(M),o(A);var F=r(A,2),T=r(i(F),2);u(T),o(F);var j=r(F,2),B=r(i(j),2);u(B);var fe=r(B,2);{var pe=a=>{var G=Ue();h(a,G)};H(fe,a=>{e(y)||a(pe)})}o(j);var J=r(j,2),O=r(i(J),2);u(O),o(J);var q=r(J,2),C=r(i(q),2);u(C),o(q);var z=r(q,2),k=r(i(z),2);u(k);var be=r(k,2);{var ve=a=>{var G=$e();h(a,G)};H(be,a=>{e(x)||a(ve)})}o(z);var W=r(z,2),X=i(W),Y=r(X,2),we=r(Y,2);o(W),o(n),_e(()=>X.disabled=!e(R)||!e(x)||!e(y)),c(P,()=>e(t).fullName,a=>v(t,e(t).fullName=a)),d("input",P,m),c(N,()=>e(t).username,a=>v(t,e(t).username=a)),d("input",N,m),c($,()=>e(t).email,a=>v(t,e(t).email=a)),d("input",$,m),c(M,()=>e(t).roll,a=>v(t,e(t).roll=a)),d("input",M,m),c(T,()=>e(t).phone,a=>v(t,e(t).phone=a)),d("input",T,m),c(B,()=>e(t).batch,a=>v(t,e(t).batch=a)),d("input",B,m),c(O,()=>e(t).fbLink,a=>v(t,e(t).fbLink=a)),d("input",O,m),c(C,()=>e(p),a=>s(p,a)),d("input",C,m),d("blur",C,Q),c(k,()=>e(g),a=>s(g,a)),d("input",k,m),d("blur",k,Q),d("click",Y,ie),d("click",we,de),d("submit",n,ke(oe)),h(l,n)};H(me,l=>{e(L)?l(ue):l(ce,!1)})}o(V),o(E),h(ae,E),he()}export{et as component};
