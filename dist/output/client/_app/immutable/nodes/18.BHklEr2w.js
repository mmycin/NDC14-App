import"../chunks/Bg9kRutz.js";import"../chunks/S6wLSpnM.js";import{p as me,y as A,z as ve,t as y,b as xe,c as r,d as s,g as e,s as a,m as n,r as i,e as g}from"../chunks/CPz9NqMD.js";import{s as B}from"../chunks/Btzz-3rd.js";import{i as P,e as he}from"../chunks/DM5mFc0n.js";import{a as w,t as _}from"../chunks/CnZq424f.js";import{r as c}from"../chunks/CNcTiupO.js";import{s as C}from"../chunks/CcaWBoBw.js";import{b as p}from"../chunks/Bobbsvk_.js";import{i as ge}from"../chunks/CxZb-nwJ.js";import{a as we}from"../chunks/upsvKRUO.js";import{N as O}from"../chunks/DzgOfrvm.js";import{g as _e}from"../chunks/B2XhxK2B.js";var ke=_('<p class="text-red-500 text-sm mt-2"> </p>'),ye=_('<p class="text-red-500 text-sm mt-2"> </p>'),Pe=_('<p class="text-red-500 text-sm mt-2"> </p>'),Ne=_('<p class="text-red-500 text-sm mt-2"> </p>'),Le=_('<p class="text-red-500 text-sm mt-2">Passwords do not match</p>'),Ee=_('<div class="container mx-auto px-4 py-12 svelte-1acp57a"><h1 class="text-3xl md:text-4xl font-extrabold text-white text-center mb-12">Add a New Captain</h1> <form class="bg-slate-800 p-8 rounded-3xl shadow-xl max-w-4xl mx-auto transform transition duration-300 hover:scale-105 svelte-1acp57a"><div class="mb-6"><label for="fullName" class="block text-white text-lg font-medium mb-2">Full Name</label> <input id="fullName" type="text" class="w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent svelte-1acp57a" placeholder="Enter Full Name" required></div> <div class="mb-6"><label for="username" class="block text-white text-lg font-medium mb-2">Username</label> <input id="username" type="text" class="w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent svelte-1acp57a" placeholder="Enter Username" required></div> <div class="mb-6"><label for="email" class="block text-white text-lg font-medium mb-2">Email</label> <input id="email" type="email" class="w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent svelte-1acp57a" placeholder="Enter Email" required></div> <div class="mb-6"><label for="roll" class="block text-white text-lg font-medium mb-2">Roll Number</label> <input id="roll" type="text" placeholder="Enter Roll Number (e.g., 12014xxx)" required> <!></div> <div class="mb-6"><label for="roll" class="block text-white text-lg font-medium mb-2">Phone Number</label> <input id="roll" type="text" placeholder="Enter Phone Number (e.g., +8801xxxxxxxxx)" required> <!></div> <div class="mb-6"><label for="batch" class="block text-white text-lg font-medium mb-2">Batch</label> <input id="batch" type="number" min="2025" max="2040" placeholder="Enter Batch eg. 20xx" required> <!></div> <div class="mb-6"><label for="fbLink" class="block text-white text-lg font-medium mb-2">Facebook Profile Link</label> <input id="fbLink" type="url" placeholder="https://facebook.com/profile" required> <!></div> <div class="mb-6"><label for="password" class="block text-white text-lg font-medium mb-2">Password</label> <input id="password" type="password" class="w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent svelte-1acp57a" placeholder="Enter Password" required></div> <div class="mb-6"><label for="confirmPassword" class="block text-white text-lg font-medium mb-2">Confirm Password</label> <input id="confirmPassword" type="password" class="w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent svelte-1acp57a" placeholder="Confirm Password" required> <!></div> <div class="text-center"><button type="submit" class="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg hover:scale-105 transition-all duration-300 svelte-1acp57a">Submit</button></div></form></div>');function Me(te,re){me(re,!1);let N=n(""),L=n(""),E=n(""),d=n(""),b=n(""),f=n(""),m=n(""),q=n(""),k=n(""),$=n(!0),v=n(!0),x=n(!0),h=n(!0),l=n({roll:"",batch:"",fbLink:""});const ae=async t=>{if(t.preventDefault(),e($)&&e(v)&&e(x)&&e(h)){const o={fullName:e(N),username:e(L),email:e(E),roll:e(d),batch:parseInt(e(b)),fbLink:e(f),isAdmin:!1,phone:e(q),password:e(m)};try{const u=await we.post("https://ndc14backend.onrender.com/api/v2/users/signup",o);O("User added successfully","success"),a(N,""),a(L,""),a(E,""),a(d,""),a(b,""),a(f,""),a(q,""),a(m,""),a(k,""),_e("/dashboard/users")}catch(u){O("Error adding user","error"),console.error(u)}}else O("Please correct the validation errors","error")};A(()=>(e(m),e(k)),()=>{a($,e(m)===e(k))}),A(()=>e(d),()=>{const t=/^1[23][0-9]14([0-9]{3})$/;a(v,t.test(e(d))),e(d)?t.test(e(d))?parseInt(e(d).slice(-3))>150?(a(v,!1),g(l,e(l).roll="Last three digits should be between 000 and 150")):g(l,e(l).roll=""):g(l,e(l).roll="Invalid roll number format. Should be like 12014xxx or 13914xxx"):g(l,e(l).roll="")}),A(()=>(e(b),e(x)),()=>{const t=parseInt(e(b));a(x,t>=2023&&t<=2040),g(l,e(l).batch=e(b)?e(x)?"":"Batch must be between 2023 and 2040":"")}),A(()=>(e(h),e(f)),()=>{a(h,/^https:\/\/(?:www\.)?facebook\.com\/[a-zA-Z0-9.]{1,}$/.test(e(f))),g(l,e(l).fbLink=e(f)?e(h)?"":"Must be a valid Facebook profile URL (https://facebook.com/...)":"")}),ve(),ge();var R=Ee(),S=r(s(R),2),V=s(S),Q=r(s(V),2);c(Q),i(V);var z=r(V,2),W=r(s(z),2);c(W),i(z);var M=r(z,2),X=r(s(M),2);c(X),i(M);var T=r(M,2),D=r(s(T),2);c(D);var le=r(D,2);{var oe=t=>{var o=ke(),u=s(o,!0);i(o),y(()=>B(u,e(l).roll)),w(t,o)};P(le,t=>{e(l).roll&&t(oe)})}i(T);var Z=r(T,2),F=r(s(Z),2);c(F);var se=r(F,2);{var ie=t=>{var o=ye(),u=s(o,!0);i(o),y(()=>B(u,e(l).roll)),w(t,o)};P(se,t=>{e(l).roll&&t(ie)})}i(Z);var j=r(Z,2),I=r(s(j),2);c(I);var ne=r(I,2);{var de=t=>{var o=Pe(),u=s(o,!0);i(o),y(()=>B(u,e(l).batch)),w(t,o)};P(ne,t=>{e(l).batch&&t(de)})}i(j);var G=r(j,2),U=r(s(G),2);c(U);var ue=r(U,2);{var ce=t=>{var o=Ne(),u=s(o,!0);i(o),y(()=>B(u,e(l).fbLink)),w(t,o)};P(ue,t=>{e(l).fbLink&&t(ce)})}i(G);var H=r(G,2),Y=r(s(H),2);c(Y),i(H);var J=r(H,2),K=r(s(J),2);c(K);var pe=r(K,2);{var be=t=>{var o=Le();w(t,o)};P(pe,t=>{e($)||t(be)})}i(J);var ee=r(J,2),fe=s(ee);i(ee),i(S),i(R),y(()=>{C(D,`w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${(!e(v)&&e(d)?"border-2 border-red-500":"")??""} svelte-1acp57a`),C(F,`w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${(!e(v)&&e(d)?"border-2 border-red-500":"")??""} svelte-1acp57a`),C(I,`w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${(!e(x)&&e(b)?"border-2 border-red-500":"")??""} svelte-1acp57a`),C(U,`w-full bg-slate-700 text-white px-6 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${(!e(h)&&e(f)?"border-2 border-red-500":"")??""} svelte-1acp57a`),fe.disabled=!e($)||!e(v)||!e(x)||!e(h)}),p(Q,()=>e(N),t=>a(N,t)),p(W,()=>e(L),t=>a(L,t)),p(X,()=>e(E),t=>a(E,t)),p(D,()=>e(d),t=>a(d,t)),p(F,()=>e(q),t=>a(q,t)),p(I,()=>e(b),t=>a(b,t)),p(U,()=>e(f),t=>a(f,t)),p(Y,()=>e(m),t=>a(m,t)),p(K,()=>e(k),t=>a(k,t)),he("submit",S,ae),w(te,R),xe()}export{Me as component};
