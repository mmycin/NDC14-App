import{A as p,L as q,B as w,R as M,C as b,D as U,P as Y,E as G,S as x,F as y,G as V,I as h,J as $,g as s,K as z,M as H,s as J,N as L,O as B,Q as K,T as Q,U as Z,V as j}from"./C49fxnTX.js";import{p as W}from"./BC5WZ-xU.js";import{c as X}from"./CZe-tk6V.js";function C(r){for(var a=B,n=B;a!==null&&!(a.f&(w|M));)a=a.parent;try{return b(a),r()}finally{b(n)}}function re(r,a,n,v){var T;var R=(n&K)!==0,d=!U||(n&Y)!==0,o=(n&G)!==0,D=(n&Z)!==0,O=!1,u;o?[u,O]=X(()=>r[a]):u=r[a];var F=x in r||y in r,_=((T=p(r,a))==null?void 0:T.set)??(F&&o&&a in r?e=>r[a]=e:void 0),t=v,S=!0,E=!1,A=()=>(E=!0,S&&(S=!1,D?t=L(v):t=v),t);u===void 0&&v!==void 0&&(_&&d&&V(),u=A(),_&&_(u));var i;if(d)i=()=>{var e=r[a];return e===void 0?A():(S=!0,E=!1,e)};else{var g=C(()=>(R?h:$)(()=>r[a]));g.f|=q,i=()=>{var e=s(g);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&z))return i;if(_){var N=r.$$legacy;return function(e,f){return arguments.length>0?((!d||!f||N||O)&&_(f?i():e),e):i()}}var c=!1,m=!1,P=Q(u),l=C(()=>h(()=>{var e=i(),f=s(P);return c?(c=!1,m=!0,f):(m=!1,P.v=e)}));return R||(l.equals=H),function(e,f){if(j!==null&&(c=m,i(),s(P)),arguments.length>0){const I=f?s(l):d&&o?W(e):e;return l.equals(I)||(c=!0,J(P,I),E&&t!==void 0&&(t=I),L(()=>s(l))),e}return s(l)}}export{re as p};
